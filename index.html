<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xiaoshi-hd.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="小师的Blog">
<meta property="og:url" content="https://xiaoshi-hd.github.io/index.html">
<meta property="og:site_name" content="小师的Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="XiaoShi">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xiaoshi-hd.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>小师的Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">小师的Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2023/04/09/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/09/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="post-title-link" itemprop="url">搭建个人博客</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-04-09 22:32:53 / 修改时间：22:34:46" itemprop="dateCreated datePublished" datetime="2023-04-09T22:32:53+08:00">2023-04-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="搭建个人博客"><a href="#搭建个人博客" class="headerlink" title="搭建个人博客"></a>搭建个人博客</h2><p>一般来说，想让别人能看到你的网站，你要购买域名、买服务器、再人工把网页文件传上去，还要装个 Nginx 之类的 web 服务器软件、修改软件配置等等，整套流程还是比较复杂的。</p>
<p>其他实现方式：</p>
<ol>
<li><p>网站托管服务</p>
<p>网站托管实际上就是把自己的网站文件放在别人的服务器上，提供访问。国外的 Vercel、GitHub Pages，国内的 Webify、Gitee Pages都可以提供服务。（这里还是推荐GitHub吧，虽然国内访问慢一点，但是Gitee Pages 之前服务下架过 3 个月）</p>
</li>
<li><p>对象存储</p>
<p>对象存储可以将图片、音视频等文件放上去存储，也可以预览和下载已上传的文件。国内的对象存储服务有七牛云、腾讯云存储等。之前用过阿里云的OSS对象存储也不错，可以创建自己的博客图床。（这里说一下Gitee仓库图床，现在加了防盗链，不好用了，可以看<a target="_blank" rel="noopener" href="https://blog.51cto.com/phyger/5181594%EF%BC%89">https://blog.51cto.com/phyger/5181594）</a></p>
</li>
<li><p>内网穿透</p>
<p>内网穿透之前用过钉钉的一个工具，实际上就是利用钉钉的服务器做一个转发。内网穿透的话，自己电脑得一直开机，不推荐。</p>
</li>
</ol>
<h3 id="博客框架"><a href="#博客框架" class="headerlink" title="博客框架"></a>博客框架</h3><p>开源博客框架有：</p>
<ul>
<li><p><strong>Hexo</strong></p>
<p>Hexo 是一个基于<strong>Node.js</strong>的快速、简洁且高效的静态博客框架。Hexo 支持<strong>Markdown</strong>解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p>
<p>Hexo优点是直接使用markdown文档，不需要在后台编辑。</p>
<p>但是Hexo没有管理端，所以Hexo自身是依托于自己在本地配置好的环境，写好文章以后可以开启Server进行预览，没有问题以后通过git推送到仓库。需要一定的技术水平，不适合小白。但是这样也有优点，因为没有后台可以直接用github零成本建站。</p>
<p>主题等内容的修改需要手动配置yaml文件，真的很麻烦。</p>
</li>
<li><p><strong>WordPress</strong></p>
<p>WordPress是一款基于<strong>PHP语言</strong>的动态博客框架，能让你建立出色网站、博客或应用。用户可以在支持PHP和MySQL的服务器上架设属于自己的网站。用自己服务器建站的时候用过。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://wordpress.org/">https://wordpress.org/</a></p>
</li>
<li><p>VuePress</p>
<p>官网：<a target="_blank" rel="noopener" href="https://vuepress.vuejs.org/zh/">https://vuepress.vuejs.org/zh/</a></p>
</li>
<li><p>Hugo</p>
<p>Hugo是一种用<strong>Go语言</strong>编写的快速，现代的静态网站生成器，旨在让网站创建再次变得有趣。主要用于个人Blog、项目文档、初创公司站点构建。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://www.gohugo.org/">https://www.gohugo.org/</a></p>
</li>
<li><p>Solo</p>
<p>Solo 是一款基于<strong>Java语言</strong>有后台管理的，小而美的博客系统，专为程序员设计</p>
<p>官网：<a target="_blank" rel="noopener" href="https://solo.b3log.org/">https://solo.b3log.org/</a></p>
</li>
<li><p>==<strong>Halo</strong>==</p>
<p>Halo是一款基于<strong>Java语言</strong>，使用<strong>Spring Boot</strong>开发的博客系统，致力于打造最好的 Java 博客系统，且只想安安静静的做一个博客系统。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://halo.run/">https://halo.run/</a></p>
<p>Github：<a target="_blank" rel="noopener" href="https://github.com/halo-dev/halo">https://github.com/halo-dev/halo</a></p>
<p>Halo部署简单，尤其是使用docker部署，有后台管理系统，更换主题、发布文章（基于markdown）都很方便。是真的省心，适合小白。</p>
<p>且支持markdown文档直接导入发表，简直不要太省心。</p>
</li>
<li><p>Jekyll</p>
<p>Jekyll 是一个简单的博客形态的静态站点生产机器（可以将纯文本转换为静态博客网站）。</p>
<p>官网：<a target="_blank" rel="noopener" href="https://jekyllrb.com/">https://jekyllrb.com/</a></p>
</li>
</ul>
<h3 id="Hexo建站"><a href="#Hexo建站" class="headerlink" title="Hexo建站"></a>Hexo建站</h3><p>参考：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/451a2a69b30a">https://www.jianshu.com/p/451a2a69b30a</a></p>
<h4 id="Hexo使用"><a href="#Hexo使用" class="headerlink" title="Hexo使用"></a>Hexo使用</h4><ol>
<li>安装Hexo</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建博客项目（新建一个目录）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;folder&gt;</span><br><span class="line"><span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>新建文章（在新建的目录\source\_posts下面可以找到md文件）</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>生成静态文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>部署网站</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<p>生成并部署可以简写为</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<p>发布之前需要设置 web 目录下的_config.yml 文件</p>
<p>参考官网：<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/configuration">https://hexo.io/zh-cn/docs/configuration</a></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">小师的Blog</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">XiaoShi</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://xiaoshihd.gitee.io/xiaoshihd</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/xiaoshihd</span></span><br></pre></td></tr></table></figure>

<p>启动本地服务（访问网址为： <a target="_blank" rel="noopener" href="http://localhost:4000/%E3%80%82%EF%BC%89">http://localhost:4000/。）</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server </span><br></pre></td></tr></table></figure>

<p>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure>

<h4 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h4><p>可以在<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://hexo.io/themes/">https://hexo.io/themes/</a>挑选自己喜欢主题。</p>
<p>选择主题：<a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a></p>
<p>下载压缩包放到blog下的themes目录下。</p>
<p>修改根目录的配置文件 <code>_config.yml</code>文件中的theme的值。(确保themes目录下的文件名和配置文件的名字一样即可)</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220422165248.png" alt="image-20220422165248052"></p>
<p>完成后重启服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean  <span class="comment"># 清除所有记录</span></span><br><span class="line">hexo generate   <span class="comment"># 生成静态网页</span></span><br><span class="line">hexo server -p 80  <span class="comment"># 启动服务,80为端口号</span></span><br></pre></td></tr></table></figure>

<h4 id="Next主题配置"><a href="#Next主题配置" class="headerlink" title="Next主题配置"></a>Next主题配置</h4><p>针对的主题是：<a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a></p>
<ul>
<li>hexo 版本5.4.2</li>
<li>next 版本7.8.0</li>
</ul>
<p>部分设置参考了：<a target="_blank" rel="noopener" href="https://haomingzhang.com/hexo_1/">https://haomingzhang.com/hexo_1/</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/awt_fudonglai/category_10191857.html">https://blog.csdn.net/awt_fudonglai/category_10191857.html</a></p>
<p>主要参考了<a target="_blank" rel="noopener" href="https://www.cnblogs.com/codernice/p/11599105.html">https://www.cnblogs.com/codernice/p/11599105.html</a></p>
<p>黑白主题切换用的是这个：<a target="_blank" rel="noopener" href="https://github.com/rqh656418510/hexo-next-darkmode">https://github.com/rqh656418510/hexo-next-darkmode</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-next-darkmode --save</span><br></pre></td></tr></table></figure>

<p>搜索功能用的是这个：<a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search%EF%BC%8C%E7%94%9F%E6%88%90%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6search.xml">https://github.com/wzpan/hexo-generator-search，生成索引文件search.xml</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>

<p>之后修改配置文件：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>阅读时长统计:<a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-symbols-count-time">https://github.com/theme-next/hexo-symbols-count-time</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time</span><br></pre></td></tr></table></figure>

<p>修改配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true</span><br><span class="line">  item_text_post: true</span><br><span class="line">  item_text_total: false</span><br></pre></td></tr></table></figure>

<p>最终页面如下：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423100621.png" alt="image-20220423100621048"></p>
<h3 id="阿里云OSS"><a href="#阿里云OSS" class="headerlink" title="阿里云OSS"></a>阿里云OSS</h3><p>创建一个bucket存储桶</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423105456.png" alt="image-20220423105456156"></p>
<p>创建AccessKey</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423105328.png" alt="image-20220423105328575"></p>
<p>设置读写权限</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423105244.png" alt="image-20220423105244145"></p>
<p>配置PicGo</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423105532.png" alt="image-20220423105532212"></p>
<p>将Gitee图床的链接全部换成阿里云OSS</p>
<p>VSCode打开文件夹，替换：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://gitee.com/xiaoshihd/MdPicture/raw/master/img</span><br></pre></td></tr></table></figure>

<p>为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img</span><br></pre></td></tr></table></figure>

<h3 id="Gitee配置"><a href="#Gitee配置" class="headerlink" title="Gitee配置"></a>Gitee配置</h3><p><strong>Git插件安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<ol>
<li>新建一个仓库</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://gitee.com/xiaoshihd/xiaoshihd.git</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>修改配置文件</li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">https://gitee.com/xiaoshihd/xiaoshihd.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>上传到git</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>gitee pages 网页解析服务（<strong>需要实名认证</strong>）</li>
</ol>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220422171131.png" alt="image-20220422171131395"></p>
<h3 id="GitHub配置"><a href="#GitHub配置" class="headerlink" title="GitHub配置"></a>GitHub配置</h3><p>GitHub Pages很简单，新建仓库命名为用户名.github.io</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423111011.png" alt="image-20220423111010868"></p>
<p>设置里面看一下：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220423111114.png" alt="image-20220423111114712"></p>
<p>我的hexo配置：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">小师的Blog</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">XiaoShi</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://xiaoshi-hd.github.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:xiaoshi-hd/xiaoshi-hd.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<h3 id="Halo建站"><a href="#Halo建站" class="headerlink" title="Halo建站"></a>Halo建站</h3><p>我直接用的docker配置环境。</p>
<p>Halo 在 Docker Hub 上发布的镜像为 halohub/halo</p>
<ol>
<li>创建 工作目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/.halo &amp;&amp; <span class="built_in">cd</span> ~/.halo</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>下载示例配置文件到 工作目录</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>编辑配置文件，配置数据库或者端口等，如需配置请参考 配置参考</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gedit application.yaml</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>拉取最新的 Halo 镜像</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull halohub/halo:1.5.2</span><br></pre></td></tr></table></figure>

<p>查看最新版本镜像：<a target="_blank" rel="noopener" href="https://hub.docker.com/r/halohub/halo">https://hub.docker.com/r/halohub/halo</a> ，推荐使用具体版本号的镜像，但也提供了 latest 标签的镜像，它始终是最新的。</p>
<ol start="5">
<li>创建容器</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -d --name halo -p 8090:8090 -v ~/.halo:/root/.halo --restart=unless-stopped halohub/halo:1.5.2</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：此命令默认使用自带的 H2 Database 数据库。如需使用 MySQL，请参考：使用 Docker 部署 Halo 和 MySQL</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-it： 开启输入功能并连接伪终端</span><br><span class="line">-d： 后台运行容器</span><br><span class="line">--name： 为容器指定一个名称</span><br><span class="line">-p： 端口映射，格式为 主机(宿主)端口:容器端口 ，可在 application.yaml 配置。</span><br><span class="line">-v： 工作目录映射。形式为：-v 宿主机路径:/root/.halo，后者不能修改。</span><br><span class="line">--restart： 建议设置为 unless-stopped，在 Docker 启动的时候自动启动 Halo 容器。</span><br></pre></td></tr></table></figure>

<p>环境配置好之后会出现配置界面：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220506115054.png" alt="image-20220506115047732"></p>
<p>配置完成后后台管理界面：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220506120325.png" alt="image-20220506120324891"></p>
<p>写文章界面：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220506122453.png" alt="image-20220506122453308"></p>
<p>博客界面：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220506120610.png" alt="image-20220506120610434"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2023/04/09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/04/09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">Docker常用命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-04-09 21:32:55 / 修改时间：22:33:48" itemprop="dateCreated datePublished" datetime="2023-04-09T21:32:55+08:00">2023-04-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Docker常用命令"><a href="#Docker常用命令" class="headerlink" title="Docker常用命令"></a>Docker常用命令</h2><p>参考：<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html">http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html</a></p>
<p>在过去，软件的交付件是代码和它编译的二进制文件，而Docker的出现使软件的交付件完全可以是容器。</p>
<p>容器的优点如下：</p>
<img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20210430152833.png" alt="image-20210430152833830" style="zoom:80%;" />

<h3 id="Docker的基本组成"><a href="#Docker的基本组成" class="headerlink" title="Docker的基本组成"></a>Docker的基本组成</h3><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20210423160422.png" alt="image-20200606212250845" style="zoom: 67%;" />

<ol>
<li><p>==镜像(image)==：docker镜像好比一个模板，可以通过这个模板来创建容器(container)，一个镜像可以创建多个容器，类似Java中的Class</p>
</li>
<li><p>==容器(container)==：类似Java中通过Class创建的实例，Object；容器可以理解为一个简易的系统</p>
</li>
<li><p>==仓库(repository)==：存放镜像的地方，分为共有仓库和私有仓库</p>
<ul>
<li>Docker Hub：国外的</li>
<li>阿里云</li>
</ul>
</li>
</ol>
<p>Docker 需要用户具有 sudo 权限，为了避免每次命令都输入 <code>sudo</code>，可以把用户加入 Docker 用户组（如果是root用户就不用考虑这个了）。</p>
<p>国内连接 Docker 的官方仓库很慢，还会断线，需要将默认仓库改成国内的镜像网站。</p>
<p>centos配置阿里云镜像：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo <span class="comment"># 阿里云镜像</span></span><br></pre></td></tr></table></figure>

<p>运行HelloWorld：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure>

<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20210423160430.png" alt="image-20200616151641013"></p>
<h3 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker version <span class="comment"># 显示docker的基本信息</span></span><br><span class="line"></span><br><span class="line">docker info <span class="comment"># 系统信息，镜像和容器的数量</span></span><br><span class="line"></span><br><span class="line">docker --<span class="built_in">help</span> <span class="comment"># 全部信息</span></span><br></pre></td></tr></table></figure>

<h3 id="镜像命令"><a href="#镜像命令" class="headerlink" title="镜像命令"></a>镜像命令</h3><h4 id="查看所有本地主机上的镜像"><a href="#查看所有本地主机上的镜像" class="headerlink" title="查看所有本地主机上的镜像"></a>查看所有本地主机上的镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images </span><br></pre></td></tr></table></figure>

<p>举例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">mysql         5.7       87eca374c0ed   2 weeks ago    447MB</span><br><span class="line">nginx         latest    62d49f9bab67   3 weeks ago    133MB</span><br><span class="line">hello-world   latest    d1165f221234   2 months ago   13.3kB</span><br><span class="line">centos        latest    300e315adb2f   4 months ago   209MB</span><br></pre></td></tr></table></figure>

<p>解释:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">REPOSITORY  <span class="comment"># 镜像仓库源</span></span><br><span class="line">TAG                 <span class="comment"># 镜像的版本</span></span><br><span class="line">IMAGE ID           <span class="comment"># 镜像的ID</span></span><br><span class="line">CREATED           <span class="comment"># 镜像的创建时间</span></span><br><span class="line">SIZE <span class="comment"># 镜像的大小</span></span><br></pre></td></tr></table></figure>

<h4 id="搜索仓库中的镜像"><a href="#搜索仓库中的镜像" class="headerlink" title="搜索仓库中的镜像"></a>搜索仓库中的镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker search</span><br><span class="line"></span><br><span class="line">docker search mysql <span class="comment"># 搜索mysql</span></span><br></pre></td></tr></table></figure>

<h4 id="下载镜像"><a href="#下载镜像" class="headerlink" title="下载镜像"></a>下载镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker pull </span><br><span class="line"></span><br><span class="line">docker pull mysql <span class="comment"># 下载mysql镜像,默认最新版latest</span></span><br><span class="line"></span><br><span class="line">docker pull mysql:5.7 <span class="comment"># 指定版本下载 </span></span><br></pre></td></tr></table></figure>

<h4 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h4><p>注意：<strong>拥有容器的镜像不可以删除，即使容器处于停止状态，必须先删除所有容器！！！</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker rmi</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除一个 可以通过名称 也可以指定id -f表示删除所有</span></span><br><span class="line">docker rmi -f 9cfcce23593a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除多个 用空格分隔id</span></span><br><span class="line">docker rmi -f <span class="built_in">id</span> <span class="built_in">id</span> <span class="built_in">id</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有 images -aq就是查所有镜像id，从而递归删除</span></span><br><span class="line">docker rmi -f $(docker images -aq) </span><br></pre></td></tr></table></figure>

<p>还要注意一种情况：多个镜像id相同，此时删除也会不成功。</p>
<img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20210506174546.png" alt="image-20210506174020708" style="zoom:80%;" />

<p>此时还可以根据”REPOSITORY”和”TAR”进行删除：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker rmi tomcat:latest</span></span><br><span class="line">Untagged: tomcat:latest</span><br></pre></td></tr></table></figure>

<h3 id="容器命令"><a href="#容器命令" class="headerlink" title="容器命令"></a>容器命令</h3><p>有了镜像才能创建容器。</p>
<h4 id="新建容器并启动"><a href="#新建容器并启动" class="headerlink" title="新建容器并启动"></a>新建容器并启动</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">docker run [可选参数] image</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数说明</span></span><br><span class="line">--name=“Name” <span class="comment"># 容器名字，用于区分容器</span></span><br><span class="line">-d 后台方式运行 </span><br><span class="line">-it 使用交互方式运行，可以进入容器查看内容</span><br><span class="line">-p 指定容器的端口 如-p:8080:8080</span><br><span class="line">	-p ip:主机端口:容器端口</span><br><span class="line">	-p :主机端口:容器端口（常用方式）</span><br><span class="line">	-p 容器端口</span><br><span class="line"></span><br><span class="line">--<span class="built_in">rm</span>：容器停止运行后，自动删除容器文件</span><br></pre></td></tr></table></figure>

<ul>
<li>如果在docker  run后面追加-d=true或者-d，那么容器将会运行在后台模式。此时所有I/O数据只能通过网络资源或者共享卷组来进行交互。因为容器不再监听你执行docker run的这个终端命令行窗口。但你可以通过执行<strong>docker  attach</strong>来重新附着到该容器的会话中。</li>
<li>在前台模式下（不指定-d参数即可），Docker会在容器中启动进程，同时<strong>将当前的命令行窗口附着到容器的标准输入、标准输出和标准错误中</strong>。也就是说容器中所有的输出都可以在当前窗口中看到。甚至它都可以虚拟出一个TTY窗口，来执行信号中断。</li>
</ul>
<p>比如进入centos容器查看文件并退出：</p>
<img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20210423160454.png" alt="image-20200617104004004" style="zoom: 67%;" />

<h4 id="查看运行的容器"><a href="#查看运行的容器" class="headerlink" title="查看运行的容器"></a>查看运行的容器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看正在运行的容器</span></span><br><span class="line">docker ps</span><br><span class="line"><span class="comment"># 查看曾经运行的容器</span></span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<h4 id="退出容器"><a href="#退出容器" class="headerlink" title="退出容器"></a>退出容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">容器停止退出</span></span><br><span class="line">exit</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">容器不停止退出 注意必须在英文输入法下，中文输入法不行</span></span><br><span class="line">Ctrl + P + Q</span><br></pre></td></tr></table></figure>

<p>比如退出再进入容器（我发现使用了Ctrl + P + Q退出之后，exit退出也不能停止容器了）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]# docker run -it centos /bin/bash</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## 按下Ctrl + P + Q</span></span></span><br><span class="line">[root@bfcea13c40cd /]# [root@192 ~]# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS         PORTS     NAMES</span><br><span class="line">f73e417ed8e4   centos    &quot;/bin/bash&quot;   2 minutes ago   Up 2 minutes             frosty_wilson</span><br></pre></td></tr></table></figure>

<h4 id="删除容器"><a href="#删除容器" class="headerlink" title="删除容器"></a>删除容器</h4><p>注意：<strong>正在运行的容器不能删除！！！</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定容器 不能删除正在运行的容器，如果强制删除 <span class="built_in">rm</span> -f</span></span><br><span class="line">docker rm 容器id</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除所有容器</span></span><br><span class="line">docker rm -f $(docker ps -aq)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除所有容器</span></span><br><span class="line">docker ps -a -q|xargs docker rm</span><br></pre></td></tr></table></figure>

<h4 id="启动和停止容器"><a href="#启动和停止容器" class="headerlink" title="启动和停止容器"></a>启动和停止容器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器<span class="built_in">id</span>/容器name  <span class="comment"># 已创建但是停止的容器可以通过这个命令启动</span></span><br><span class="line"></span><br><span class="line">docker restart 容器<span class="built_in">id</span>/容器name</span><br><span class="line"></span><br><span class="line">docker stop 容器<span class="built_in">id</span>/容器name  <span class="comment"># 对于已启动的容器通过这个命令停止</span></span><br></pre></td></tr></table></figure>

<h4 id="在容器中执行命令"><a href="#在容器中执行命令" class="headerlink" title="在容器中执行命令"></a>在容器中执行命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span></span><br></pre></td></tr></table></figure>

<p>比如进入centos：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]<span class="comment"># docker run -it centos /bin/bash</span></span><br><span class="line"><span class="comment">### 按下Ctrl + P + Q</span></span><br><span class="line">[root@bfcea13c40cd /]<span class="comment"># [root@192 ~]# docker ps </span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS         PORTS     NAMES</span><br><span class="line">f73e417ed8e4   centos    <span class="string">&quot;/bin/bash&quot;</span>   2 minutes ago   Up 2 minutes             frosty_wilson</span><br><span class="line">[root@192 ~]<span class="comment"># docker exec -it f73e417ed8e4 /bin/bash   ### 再次进入</span></span><br></pre></td></tr></table></figure>

<h3 id="部署nginx"><a href="#部署nginx" class="headerlink" title="部署nginx"></a>部署nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载镜像</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker pull nginx</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">f7ec5a41d630: Already exists </span><br><span class="line">aa1efa14b3bf: Pull complete </span><br><span class="line">b78b95af9b17: Pull complete </span><br><span class="line">c7d6bca2b8dc: Pull complete </span><br><span class="line">cf16cd8e71e0: Pull complete </span><br><span class="line">0241c68333ef: Pull complete </span><br><span class="line">Digest: sha256:75a55d33ecc73c2a242450a9f1cc858499d468f077ea942867e662c247b5e412</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> nginx:latest</span><br><span class="line">docker.io/library/nginx:latest</span><br><span class="line"><span class="comment"># 查看镜像</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">mysql         5.7       87eca374c0ed   2 weeks ago    447MB</span><br><span class="line">nginx         latest    62d49f9bab67   3 weeks ago    133MB</span><br><span class="line">hello-world   latest    d1165f221234   2 months ago   13.3kB</span><br><span class="line">centos        latest    300e315adb2f   4 months ago   209MB</span><br><span class="line"><span class="comment"># 创建并启动容器 -d 后台运行(前台运行会显示输出)，--name 命名，-p 暴露端口，3344服务器、宿主机的端口，容器内部端口</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker run -d --name nginx01 -p:3344:80 nginx</span></span><br><span class="line">7b8e0497226d6138fdef504b5dad6105ec96d2d2a11695f3451418fa72919c74</span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker ps </span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                                   NAMES</span><br><span class="line">7b8e0497226d   nginx     <span class="string">&quot;/docker-entrypoint.…&quot;</span>   8 seconds ago   Up 7 seconds   0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp   nginx01</span><br><span class="line"><span class="comment"># 使用3344可以访问成功</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># curl localhost:3344</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        width: 35em;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        font-family: Tahoma, Verdana, Arial, sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;If you see this page, the nginx web server is successfully installed and</span><br><span class="line">working. Further configuration is required.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;For online documentation and support please refer to</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;</span><br><span class="line">Commercial support is available at</span><br><span class="line">&lt;a href=<span class="string">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you <span class="keyword">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>如果需要修改配置文件或者网页文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入容器</span></span><br><span class="line">[root@cdfgroup ~]<span class="comment"># docker exec -it nginx01 /bin/bash</span></span><br><span class="line"><span class="comment"># 查一下nginx在哪</span></span><br><span class="line">root@7b8e0497226d:/<span class="comment"># whereis nginx</span></span><br><span class="line">nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx</span><br><span class="line"><span class="comment"># 到这个目录</span></span><br><span class="line">root@7b8e0497226d:/<span class="comment"># cd /etc/nginx</span></span><br><span class="line">root@7b8e0497226d:/etc/nginx<span class="comment"># ls</span></span><br><span class="line">conf.d  fastcgi_params  koi-utf  koi-win  mime.types  modules  nginx.conf  scgi_params  uwsgi_params  win-utf</span><br><span class="line"><span class="comment"># 之后修改nginx.conf文件</span></span><br></pre></td></tr></table></figure>

<p>每次改动都需要进入容器内部，十分麻烦。而且<strong>docker是要将应用和环境打包成一个镜像</strong>，这样，<strong>数据就不应该在容器中</strong>，否则容器删除，数据就会丢失。</p>
<p>使用数据卷技术可以实现容器之间数据共享，数据双向同步。</p>
<p>直接用命令来挂载：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -v</span><br><span class="line"><span class="comment"># -v volume卷技术</span></span><br></pre></td></tr></table></figure>

<p>参考：<a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2018/02/nginx-docker.html">https://www.ruanyifeng.com/blog/2018/02/nginx-docker.html</a></p>
<p>新建文件夹进入(/root/nginx-docker-demo)：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> nginx-docker-demo</span><br><span class="line"><span class="built_in">cd</span> nginx-docker-demo</span><br></pre></td></tr></table></figure>

<p><strong>从docker容器里面拷贝文件到主机：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> 容器名:容器文件路径 主机文件路径</span><br></pre></td></tr></table></figure>

<p><strong>从主机拷贝文件到docker容器：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> 主机文件路径 容器名:容器文件路径</span><br></pre></td></tr></table></figure>

<p>拷贝网页文件到当前文件夹：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> nginx01:/usr/share/nginx/html .</span><br></pre></td></tr></table></figure>

<p>拷贝配置文件到当前文件夹：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> nginx01:/etc/nginx .</span><br></pre></td></tr></table></figure>

<p>改名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> nginx conf</span><br></pre></td></tr></table></figure>

<p>挂载的方式启动（注意：这时候启动必须在创建的文件夹下，否则找不到配置文件就不会启动）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">--<span class="built_in">rm</span> \</span><br><span class="line">--name mynginx \</span><br><span class="line">--volume <span class="string">&quot;<span class="variable">$PWD</span>/html&quot;</span>:/usr/share/nginx/html \</span><br><span class="line">--volume <span class="string">&quot;<span class="variable">$PWD</span>/conf&quot;</span>:/etc/nginx \</span><br><span class="line">-p 3366:80 \</span><br><span class="line">-d \</span><br><span class="line">nginx</span><br></pre></td></tr></table></figure>

<p>终止容器：（把这个容器终止，由于 <code>--rm</code>参数的作用，容器文件会自动删除）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop mynginx</span><br></pre></td></tr></table></figure>

<h3 id="部署tomcat"><a href="#部署tomcat" class="headerlink" title="部署tomcat"></a>部署tomcat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker pull tomcat:9.0</span></span><br><span class="line">9.0: Pulling from library/tomcat</span><br><span class="line">bd8f6a7501cc: Pull complete </span><br><span class="line">44718e6d535d: Pull complete </span><br><span class="line">efe9738af0cb: Pull complete </span><br><span class="line">f37aabde37b8: Pull complete </span><br><span class="line">b87fc504233c: Pull complete </span><br><span class="line">8bf93eef8c9e: Pull complete </span><br><span class="line">8d33b4df10ef: Pull complete </span><br><span class="line">2d77aa1a5442: Pull complete </span><br><span class="line">baa04cc4071d: Pull complete </span><br><span class="line">a3a752513415: Pull complete </span><br><span class="line">Digest: sha256:0509684774ac53d8b152f4a50dd92889218a8633c0feddb4b35d092e55cd215d</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> tomcat:9.0</span><br><span class="line">docker.io/library/tomcat:9.0</span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">tomcat        9.0       c0e850d7b9bb   13 days ago    667MB</span><br><span class="line">mysql         5.7       87eca374c0ed   2 weeks ago    447MB</span><br><span class="line">nginx         latest    62d49f9bab67   3 weeks ago    133MB</span><br><span class="line">hello-world   latest    d1165f221234   2 months ago   13.3kB</span><br><span class="line">centos        latest    300e315adb2f   4 months ago   209MB</span><br><span class="line"><span class="comment"># 务必加上版本号，否则会自动下载最新版运行</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker run -d -p 3355:8080 --name tomcat01 tomcat:9.0</span></span><br><span class="line">fb26f874d72d67ad7210ab9c186d11b5f3f4d3cf4728459f3f5864f70988b0d9</span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE        COMMAND             CREATED         STATUS         PORTS                                       NAMES</span><br><span class="line">fb26f874d72d   tomcat:9.0   <span class="string">&quot;catalina.sh run&quot;</span>   8 seconds ago   Up 7 seconds   0.0.0.0:3355-&gt;8080/tcp, :::3355-&gt;8080/tcp   tomcat01</span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># curl localhost:3355</span></span><br><span class="line">&lt;!doctype html&gt;&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;&lt;<span class="built_in">head</span>&gt;&lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;&lt;style <span class="built_in">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;body &#123;font-family:Tahoma,Arial,sans-serif;&#125; h1, h2, h3, b &#123;color:white;background-color:<span class="comment">#525D76;&#125; h1 &#123;font-size:22px;&#125; h2 &#123;font-size:16px;&#125; h3 &#123;font-size:14px;&#125; p &#123;font-size:12px;&#125; a &#123;color:black;&#125; .line &#123;height:1px;background-color:#525D76;border:none;&#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Status Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&lt;/p&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;h3&gt;Apache Tomcat/9.0.45&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;</span></span><br><span class="line"><span class="comment"># 发现并没有访问到tomcat的页面，报错404</span></span><br><span class="line"><span class="comment"># 进入容器</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker exec -it tomcat01 /bin/bash</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat<span class="comment"># ls</span></span><br><span class="line">BUILDING.txt     LICENSE  README.md      RUNNING.txt  conf  logs            temp     webapps.dist</span><br><span class="line">CONTRIBUTING.md  NOTICE   RELEASE-NOTES  bin          lib   native-jni-lib  webapps  work</span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat<span class="comment"># cd webapps</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat/webapps<span class="comment"># ls</span></span><br><span class="line"><span class="comment"># 可以发现webapps下什么都没有</span></span><br><span class="line"><span class="comment"># 这是阿里云镜像的原因：默认使用最小镜像，所有不必要的都剔除了，保证最小可运行环境</span></span><br><span class="line"><span class="comment"># 实际上东西都在 webapps.dist里面</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat/webapps<span class="comment"># cd ..</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat<span class="comment"># cp -r webapps.dist/* webapps</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat<span class="comment"># cd webapps</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat/webapps<span class="comment"># ls</span></span><br><span class="line">ROOT  docs  examples  host-manager  manager</span><br><span class="line"><span class="comment"># Ctrl + P + Q 退出当前容器</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># curl localhost:3355</span></span><br><span class="line"><span class="comment"># 这个时候就可以访问到了</span></span><br></pre></td></tr></table></figure>

<p>webapps文件的挂载和nginx是一样的。这里我把war包拷贝到docker容器中运行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker cp /www/report_pdf/kaoping.war tomcat01:/usr/local/tomcat/webapps</span></span><br><span class="line">[root@iZ8vbb58nh9e5zf1j0dbg2Z ~]<span class="comment"># docker exec -it tomcat01 /bin/bash</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat<span class="comment"># cd webapps</span></span><br><span class="line">root@fb26f874d72d:/usr/local/tomcat/webapps<span class="comment"># ls</span></span><br><span class="line">ROOT  docs  examples  host-manager  kaoping  kaoping.war  manager</span><br></pre></td></tr></table></figure>

<h3 id="部署mysql"><a href="#部署mysql" class="headerlink" title="部署mysql"></a>部署mysql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拉取</span></span><br><span class="line">docker pull mysql:5.7</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载</span></span><br><span class="line">docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql5.7</span><br><span class="line"></span><br><span class="line">-d 后台运行</span><br><span class="line">-p 端口映射</span><br><span class="line">-v 卷挂载</span><br><span class="line">-e 环境配置 安装启动mysql需要配置密码</span><br><span class="line">--name 容器名字</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="可视化管理"><a href="#可视化管理" class="headerlink" title="可视化管理"></a>可视化管理</h3><p><strong>portainer</strong>可视化工具。</p>
<p>下载：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull portainer/portainer</span><br></pre></td></tr></table></figure>

<p>启动容器：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 3350:9000 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=<span class="literal">true</span> portainer/portainer</span><br></pre></td></tr></table></figure>

<p>第一次运行会要求创建账户密码。</p>
<p>创建完成后如下：</p>
<img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20210508172439.png" alt="image-20210508172439382" style="zoom:80%;" />

<p>点击 <code>connect</code>就能连上本地仓库。</p>
<h3 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h3><p>dockerfile是用来构建docker镜像的文件，命令参数脚本。</p>
<p>很多官方镜像都是基础包，很多功能没有(比如centos没有vim、ipconfig)，我们通常会配置环境和软件自己搭建镜像。</p>
<img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220502211715.png" alt="image-20210909110000357" style="zoom: 50%;" />

<p>常用命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FROM   # 基础镜像，一切从这里开始构建 centos</span><br><span class="line">MAINTAINER    # 镜像是谁写的，姓名+邮箱</span><br><span class="line">RUN    # 镜像构建的时候需要运行的命令</span><br><span class="line">ADD    # 放入一些文件如一个tomcat压缩包，会自动解压</span><br><span class="line">WORKDIR  # 镜像的工作目录</span><br><span class="line">VOLUME   # 挂载的目录</span><br><span class="line">EXPOST   # 默认端口配置</span><br><span class="line">CMD   # 指定容器启动的时候要运行的命令,只有最后一个会生效，可被替代</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CMD 一行只执行一个命令，写多个CMD都会执行</span></span><br><span class="line">ENTRYPOINTY  # 指定容器启动的时候要运行的命令,可以追加命令</span><br><span class="line">ONBUILD   # 当构建一个被继承DockerFile这个时候就会运行ONBUILD的指令</span><br><span class="line">COPY    # 类似ADD命令，将文件拷贝到镜像中</span><br><span class="line">ENV     # 构建的时候设置环境变量</span><br></pre></td></tr></table></figure>

<p>构建自己的centos：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">MAINTAINER xiaoshi&lt;1209001368@qq.com&gt;</span><br><span class="line"></span><br><span class="line">ENV MYPATH /usr/local</span><br><span class="line">WORKDIR <span class="variable">$MYPATH</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RUN yum -y install net-tools</span></span><br><span class="line"></span><br><span class="line">EXPOSE 80</span><br><span class="line"><span class="comment"># echo 输出信息</span></span><br><span class="line">CMD <span class="built_in">echo</span> <span class="variable">$MYPATH</span></span><br><span class="line">CMD <span class="built_in">echo</span> <span class="string">&quot;----END----&quot;</span></span><br><span class="line">CMD /bin/bash</span><br></pre></td></tr></table></figure>

<p>构建命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker build -f dockerfile文件路径 -t 镜像名:[版本号] .</span><br><span class="line"></span><br><span class="line">docker build -f mydockerfile -t mycentos:0.1 .</span><br></pre></td></tr></table></figure>

<ul>
<li>**-f :**指定要使用的Dockerfile路径；</li>
<li><strong>–tag, -t:</strong> 镜像的名字及标签，通常 name:tag 或者 name 格式；</li>
<li>最后的 <strong>.</strong> 号，指定镜像构建过程中的上下文环境的目录</li>
</ul>
<p>Docker 在运行时分为 Docker引擎（服务端守护进程） 以及 客户端工具，我们日常使用各种 docker 命令，其实就是在使用客户端工具与 Docker 引擎 进行交互。</p>
<p>那么当我们使用 docker build 命令来构建镜像时，这个构建过程其实是在 Docker引擎 中完成的，而不是在本机环境。</p>
<p>那么如果在 Dockerfile 中使用了一些 COPY 等指令来操作文件，如何让 Docker引擎 获取到这些文件呢？</p>
<p>这里就有了一个镜像构建上下文的概念，<strong>当构建的时候，由用户指定构建镜像的上下文路径，而 docker build  会将这个路径下所有的文件都打包上传给 Docker  引擎</strong>，引擎内将这些内容展开后，就能获取到所有指定上下文中的文件了。</p>
<p>比如说 dockerfile 中的 COPY ./package.json /project，其实拷贝的并不是本机目录下的 package.json 文件，而是 docker引擎中展开的构建上下文中的文件。</p>
<p> .dockerignore 文件就是忽略某些文件。</p>
<p>查看构建历史：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">history</span> docker镜像名/id</span><br></pre></td></tr></table></figure>

<h3 id="SpringBoot微服务打包镜像"><a href="#SpringBoot微服务打包镜像" class="headerlink" title="SpringBoot微服务打包镜像"></a>SpringBoot微服务打包镜像</h3><ol>
<li>项目打包jar</li>
<li>编写dockerfile</li>
<li>构建镜像</li>
<li>发布运行</li>
</ol>
<p>最后交付的就是一个镜像。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">FROM java:8</span><br><span class="line"></span><br><span class="line">COPY *.jar /app.jar</span><br><span class="line"></span><br><span class="line">CMD [&quot;--SERVER.PORT=8080&quot;]</span><br><span class="line"></span><br><span class="line">EXPOSE 8080</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d -p:8080:8080 --name demo_sqlserver server_demo_sqlserver</span><br></pre></td></tr></table></figure>

<p>如果最后有很多镜像，比如上百个，集群如何管理？</p>
<p>这就要用：</p>
<p>Docker Compase</p>
<p>Docker Swarm</p>
<h3 id="Docker-Compose"><a href="#Docker-Compose" class="headerlink" title="Docker Compose"></a>Docker Compose</h3><p>Compose 项目是 Docker 官方的开源项目，负责实现对 Docker  容器集群的快速编排。使用前面介绍的Dockerfile我们很容易定义一个单独的应用容器。然而在日常开发工作中，经常会碰到需要多个容器相互配合来完成某项任务的情况。例如要实现一个 Web 项目，除了 Web  服务容器本身，往往还需要再加上后端的数据库服务容器；再比如在分布式应用一般包含若干个服务，每个服务一般都会部署多个实例。如果每个服务都要手动启停，那么效率之低、维护量之大可想而知。这时候就需要一个工具能够管理一组相关联的的应用容器，这就是Docker Compose。</p>
<p>参考：<a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1659023590103934059&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1659023590103934059&amp;wfr=spider&amp;for=pc</a></p>
<p><strong>安装docker-compose</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt install docker-compose  //安装命令</span><br><span class="line">docker-compose -v           //验证安装</span><br></pre></td></tr></table></figure>

<h3 id="Windows的坑"><a href="#Windows的坑" class="headerlink" title="Windows的坑"></a>Windows的坑</h3><p>Windows有一个Docker Desktop桌面版软件，电脑如果安装了VM虚拟机，再安装Docker就会导致VM虚拟机不能用。</p>
<p>参考：<a target="_blank" rel="noopener" href="https://www.freesion.com/article/6760723270/">https://www.freesion.com/article/6760723270/</a></p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220527153447.png" alt="image-20220527153440880"></p>
<p>我首先是卸载了Docker</p>
<p>之后由于win10家庭教育版没有“Hyper-V”</p>
<p>直接命令行输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bcdedit /set hypervisorlaunchtype off</span><br></pre></td></tr></table></figure>

<p><strong>解决方案是在windows上安装wsl，在wsl里面通过命令安装docker</strong>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/23/%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/23/%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/" class="post-title-link" itemprop="url">编程环境配置指南</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-23 18:40:53" itemprop="dateCreated datePublished" datetime="2022-04-23T18:40:53+08:00">2022-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-09 22:33:45" itemprop="dateModified" datetime="2023-04-09T22:33:45+08:00">2023-04-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%85%B6%E4%BB%96/" itemprop="url" rel="index"><span itemprop="name">其他</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="编程软件"><a href="#编程软件" class="headerlink" title="编程软件"></a>编程软件</h3><p><code>IDEA</code>  Java IDE  （社区版免费，但是不支持 <code>spring</code>，需要单独安装 <code>Java</code>运行环境和 <code>Maven</code>）</p>
<p><code>WebStrom</code>  前端 IDE  （需要单独安装 <code>Node</code>、<code>WebPack</code>、<code>vue-cli</code>等）</p>
<p><code>PyCharm</code>  Python IDE  （社区版免费，需要单独安装 <code>Python</code>、<code>Anacanda</code>等）</p>
<p><code>Android Studio</code>  Android 开发</p>
<p><code>Navicat</code>  数据库连接</p>
<p><code>secureCRT</code>  SSH连接</p>
<p><code>Postman</code>  测试后台接口</p>
<p><code>Sublime</code>  查看代码  （需要再装个格式化代码的插件<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wghao/p/6026107.html">CodeFormatter</a>）</p>
<p><code>Visual Studio Code</code> 查看代码</p>
<p><code>Typora + PicGo</code>  写笔记，图片上传gitee图床（PigGo需要装gitee插件，gitee建立仓库配置token，<a target="_blank" rel="noopener" href="https://blog.csdn.net/disILLL/article/details/103962241?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-2.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-2.control">参考</a>，不过现在推荐阿里云OSS）</p>
<p><code>Git</code>  代码版本控制  （不会命令行的话可以辅助安装 <code>TortoiseGit</code>）</p>
<p><code>Windows Terminal</code> 命令行 （Win + R 输入wt打开，在文件夹下输入 <code>wt -d . </code>打开）</p>
<p><code>Visual Studio 2019</code>  C C++ C# IDE</p>
<p><code>微信开发者工具</code>  用于开发微信小程序</p>
<p><code>IDEA</code>个性化设置及插件：装两个插件 <code>Lombok</code>和<a target="_blank" rel="noopener" href="https://blog.csdn.net/cnds123321/article/details/102858985"><code>Background Image Plus</code></a>。</p>
<p><code>Visual Studio Code</code> 个性化设置及插件</p>
<p><code>Visual Studio 2019</code>个性化设置及插件（<code>XAML Style</code>、<code>CodeMaid</code>、<code>Output enhancer</code>）</p>
<p>视频播放器：<code>VLC media player</code>和 <code>PotPlayer</code></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/35757176">PotPlayer播放器个性化设置</a></p>
<p><code>dism++</code>对系统进行个性化设置</p>
<p><code>RightMenuMgr</code>对系统右键菜单进行个性化设置</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/23/%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%8C%87%E5%8D%97/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/23/Python%E7%A6%BB%E6%95%A3%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/23/Python%E7%A6%BB%E6%95%A3%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">Python离散数据处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-23 18:34:22" itemprop="dateCreated datePublished" datetime="2022-04-23T18:34:22+08:00">2022-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-25 13:17:38" itemprop="dateModified" datetime="2022-04-25T13:17:38+08:00">2022-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>20k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>18 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Python数据处理"><a href="#Python数据处理" class="headerlink" title="Python数据处理"></a>Python数据处理</h2><p><strong>Scipy数学处理模块</strong></p>
<p><a target="_blank" rel="noopener" href="https://docs.scipy.org/doc/scipy/reference/index.html">https://docs.scipy.org/doc/scipy/reference/index.html</a></p>
<table>
<thead>
<tr>
<th align="left">模块</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left">scipy.cluster</td>
<td align="left">矢量量化 / K-均值</td>
</tr>
<tr>
<td align="left">scipy.constants</td>
<td align="left">物理和数学常数</td>
</tr>
<tr>
<td align="left">==scipy.fftpack==</td>
<td align="left">傅里叶变换</td>
</tr>
<tr>
<td align="left">==scipy.integrate==</td>
<td align="left">积分程序</td>
</tr>
<tr>
<td align="left">scipy.interpolate</td>
<td align="left">插值</td>
</tr>
<tr>
<td align="left">==scipy.io==</td>
<td align="left">数据输入输出，支持多种类型文件读写</td>
</tr>
<tr>
<td align="left">scipy.linalg</td>
<td align="left">线性代数程序</td>
</tr>
<tr>
<td align="left">scipy.ndimage</td>
<td align="left">n维图像包</td>
</tr>
<tr>
<td align="left">scipy.odr</td>
<td align="left">正交距离回归</td>
</tr>
<tr>
<td align="left">scipy.optimize</td>
<td align="left">优化</td>
</tr>
<tr>
<td align="left">==scipy.signal==</td>
<td align="left">信号处理</td>
</tr>
<tr>
<td align="left">scipy.sparse</td>
<td align="left">稀疏矩阵</td>
</tr>
<tr>
<td align="left">scipy.spatial</td>
<td align="left">空间数据结构和算法</td>
</tr>
<tr>
<td align="left">scipy.special</td>
<td align="left">任何特殊数学函数</td>
</tr>
<tr>
<td align="left">scipy.stats</td>
<td align="left">统计</td>
</tr>
</tbody></table>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/23/Python%E7%A6%BB%E6%95%A3%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/23/%E7%AE%80%E5%8D%95%E7%9A%84%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E5%AE%9E%E7%8E%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/23/%E7%AE%80%E5%8D%95%E7%9A%84%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E5%AE%9E%E7%8E%B0/" class="post-title-link" itemprop="url">简单的视频直播实现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-23 18:29:17" itemprop="dateCreated datePublished" datetime="2022-04-23T18:29:17+08:00">2022-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-25 13:18:26" itemprop="dateModified" datetime="2022-04-25T13:18:26+08:00">2022-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">音视频处理</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>参考自CSDN雷霄骅博客：<a target="_blank" rel="noopener" href="https://blog.csdn.net/leixiaohua1020/article/details/18893769">https://blog.csdn.net/leixiaohua1020/article/details/18893769</a></p>
<p>视频播放器播放一个互联网上的视频文件，需要经过以下几个步骤：<strong>解协议，解封装，解码视音频，视音频同步</strong>。如果播放本地文件则不需要解协议，为以下几个步骤：解封装，解码视音频，视音频同步。</p>
<p>**==解协议==**的作用，就是将流媒体协议的数据，解析为标准的相应的封装格式数据。视音频在网络上传播的时候，常常采用各种流媒体协议，例如HTTP，RTMP，或是MMS等等。这些协议在传输视音频数据的同时，也会传输一些信令数据。这些信令数据包括对播放的控制（播放，暂停，停止），或者对网络状态的描述等。解协议的过程中会去除掉信令数据而只保留视音频数据。例如，采用RTMP协议传输的数据，经过解协议操作后，输出FLV格式的数据。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/23/%E7%AE%80%E5%8D%95%E7%9A%84%E8%A7%86%E9%A2%91%E7%9B%B4%E6%92%AD%E5%AE%9E%E7%8E%B0/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/23/Arduino%E9%81%A5%E6%8E%A7%E5%B0%8F%E8%BD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/23/Arduino%E9%81%A5%E6%8E%A7%E5%B0%8F%E8%BD%A6/" class="post-title-link" itemprop="url">Arduino遥控小车</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-23 18:20:01" itemprop="dateCreated datePublished" datetime="2022-04-23T18:20:01+08:00">2022-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-25 13:17:28" itemprop="dateModified" datetime="2022-04-25T13:17:28+08:00">2022-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A1%AC%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">硬件</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="遥控车"><a href="#遥控车" class="headerlink" title="遥控车"></a>遥控车</h2><p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220418160333.jpg" alt="微信图片_20220418160239"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/23/Arduino%E9%81%A5%E6%8E%A7%E5%B0%8F%E8%BD%A6/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/23/STM32%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/23/STM32%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">STM32入门教程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-23 13:59:31" itemprop="dateCreated datePublished" datetime="2022-04-23T13:59:31+08:00">2022-04-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-25 13:17:53" itemprop="dateModified" datetime="2022-04-25T13:17:53+08:00">2022-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%A1%AC%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">硬件</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>7.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="STM32简介"><a href="#STM32简介" class="headerlink" title="STM32简介"></a>STM32简介</h2><p>简介参考自：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Qs41137dk?p=1">小马哥STM32四轴学习平台–DragonFly四轴STM32单片机软件入门级飞控算法课程</a></p>
<p>单片微型计算机简称单片机（MCU（MicrbControl Unit）），我们自己的个人计算机中，CPU、RAM、ROM、I/O这些都是单独的芯片，然后这些芯片被安装在一个主板上，这样就构成了我们的PC主板，进而组装成电脑，而单片机只是将这所有的集中在了一个芯片上而已。单片机又有8位的如51单片机、16位的如MSP430、32位的如STM32，通常我们说的多少位通常指的是内核（CPU）一次处理的数据宽度。也就是说内核一次处理的位数越多单片机的计算速度就越快，性能也就越强悍。</p>
<p>STM32是意法半导体（ST）推出一款<strong>32位</strong>的单片机。STM32具有超低的价格、超多的外设、丰富的型号、优异的实时性、极低的开发成本等优势。STM32凭借其产品线的多样化、极高的性价比、简单易用的<strong>库开发</strong>方式，迅速在众多32位单片机中脱颖而出。</p>
<p>STM32芯片内部可以粗略划分两部分：<strong>内核</strong>+<strong>片上外设</strong>。如果与电脑类比，内核与片上外设就如同电脑的CPU与主板、内存、显卡、硬盘的关系。<br>ARM公司只设计内核不生产芯片，他会将有关内核的技术授权给各半导体厂商例如ST、TI、Atme1、NXP等厂商。这些厂商都是基于这个内核自己设计片上外设如SRAM、ROM、FLASH、USART、GPIO等，然后集成到一个硅片上，这就是我们现在用的芯片。<br>芯片内部架构见图：</p>
<p><img src="https://xiaoshi-blog-img.oss-cn-beijing.aliyuncs.com/img/20220408140032.png" alt="image-20201123192912952"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/23/STM32%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/22/%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/22/%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83/" class="post-title-link" itemprop="url">地图服务发布</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-22 17:28:14" itemprop="dateCreated datePublished" datetime="2022-04-22T17:28:14+08:00">2022-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-25 13:18:18" itemprop="dateModified" datetime="2022-04-25T13:18:18+08:00">2022-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>35k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>32 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="地图服务发布"><a href="#地图服务发布" class="headerlink" title="地图服务发布"></a>地图服务发布</h1><p>教程参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/kkyyhh96/p/6379515.html">https://www.cnblogs.com/kkyyhh96/p/6379515.html</a></p>
<p>视频参考：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1vk4y127P8">https://www.bilibili.com/video/BV1vk4y127P8</a></p>
<h2 id="PostgreSQL"><a href="#PostgreSQL" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h2><p>MySQL 是最流行的关系型数据库管理系统（RDBMS）。</p>
<p>PostgreSQL 是一个免费的对象-关系数据库系统(ORDBMS)。ORDBMS是面向对象技术与传统的关系数据库相结合的产物，在原来关系数据库的基础上，增加了一些新的特性。</p>
<p>EnterpriseDB 是全球唯一一家提供基于 PostgreSQL 企业级产品与服务的厂商，在这里可以下载pg数据库。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/22/%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E5%8F%91%E5%B8%83/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xiaoshi-hd.github.io/2022/04/22/Android%E5%B5%8C%E5%85%A5Vue%E5%AE%9E%E7%8E%B0H5%E5%BA%94%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xiaoshi.png">
      <meta itemprop="name" content="XiaoShi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小师的Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/04/22/Android%E5%B5%8C%E5%85%A5Vue%E5%AE%9E%E7%8E%B0H5%E5%BA%94%E7%94%A8/" class="post-title-link" itemprop="url">Android嵌入Vue实现H5应用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-22 17:20:30" itemprop="dateCreated datePublished" datetime="2022-04-22T17:20:30+08:00">2022-04-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-25 13:17:09" itemprop="dateModified" datetime="2022-04-25T13:17:09+08:00">2022-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index"><span itemprop="name">Android</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Android嵌入Vue实现H5应用"><a href="#Android嵌入Vue实现H5应用" class="headerlink" title="Android嵌入Vue实现H5应用"></a>Android嵌入Vue实现H5应用</h2><p>现在很多的App里都内置了Web网页（Hybrid App），比如说很多电商平台，淘宝、京东、聚划算等等。</p>
<p>他们的页面是由Android的WebView实现的，其中涉及到Android客户端与Web网页的交互。</p>
<p>Android WebView组件可以实现App中内置网页的功能。</p>
<p><code>WebView</code>是一个基于<code>webkit</code>引擎、展现<code>web</code>页面的控件。</p>
<blockquote>
<p>Android的Webview在低版本和高版本采用了不同的webkit版本内核，4.4后直接使用了Chrome。</p>
</blockquote>
<p>作用为：</p>
<ul>
<li>显示和渲染Web页面</li>
<li>直接使用html文件（网络上或本地assets中）作布局</li>
<li>可和JavaScript交互调用</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/04/22/Android%E5%B5%8C%E5%85%A5Vue%E5%AE%9E%E7%8E%B0H5%E5%BA%94%E7%94%A8/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="XiaoShi"
      src="/images/xiaoshi.png">
  <p class="site-author-name" itemprop="name">XiaoShi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xiaoshi-hd" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xiaoshi-hd" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XiaoShi</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">105k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:35</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

</body>
</html>
